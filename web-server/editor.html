<head>
	<title>全城热跑</title>
<meta charset="utf-8"/>
<!-- 	<link rel="icon" href="/favicon.ico">
<link rel="icon" type="image/png" href="/favicon.png" />
<link rel="icon" type="image/webp" href="/favicon.webp" /> -->
<meta content="width=device-width, initial-scale=0.5, maximum-scale=0.5, user-scalable=no" name="viewport" /> 
<meta content="yes" name="apple-mobile-web-app-capable" />
<meta content="black" name="apple-mobile-web-app-status-bar-style" />
<meta content="telephone=yes" name="format-detection" />
<!-- 禁止百度自动转码 -->
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="keywords" content="全城热跑" />
<meta name="description" content="东风日产 全民运动惠 热跑福州 赢大奖" />
<meta name="author" content="Gaubee,gaubeebangeel@gmail.com">
<meta name="theme-color" content="#bc0b0b">
<!-- IOS 是否启用 WebApp 全屏模式 -->
<meta name="apple-mobile-web-app-capable" content="yes" />
<!-- Chrome 是否启用 WebApp 全屏模式 -->
<meta name="mobile-web-app-capable" content="yes">
<!-- UC强制全屏 -->
<meta name="full-screen" content="yes">
<!-- QQ强制全屏 -->
<meta name="x5-fullscreen" content="true">
<!-- UC应用模式 -->
<meta name="browsermode" content="application">
<!-- UC应用模式 -->
<meta name="browsermode" content="application">
<!-- <a href="http://webscan.360.cn/index/checkwebsite/url/www.youdob.com"><img border="0" src="http://img.webscan.360.cn/status/pai/hash/191b922c2cea78d2260dcfd0f829df77"/></a> -->
<!-- QQ应用模式 -->
<meta name="x5-page-mode" content="app">
<!-- windows phone 点击无高光 -->
<meta name="msapplication-tap-highlight" content="no">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<script>
var isMobile = function(_mobileAgent) {
	var mobileAgent = _mobileAgent || ["nokia", "iphone", "android", "motorola", "^mot-", "softbank", "foma", "docomo", "kddi", "up.browser", "up.link", "htc", "dopod", "blazer", "netfront", "helio", "hosin", "huawei", "novarra", "CoolPad", "webos", "techfaith", "palmsource", "blackberry", "alcatel", "amoi", "ktouch", "nexian", "samsung", "^sam-", "s[cg]h", "^lge", "ericsson", "philips", "sagem", "wellcom", "bunjalloo", "maui", "symbian", "smartphone", "midp", "wap", "phone", "windows ce", "iemobile", "^spice", "^bird", "^zte-", "longcos", "pantech", "gionee", "^sie-", "portalmmm", "jigs browser", "hiptop", "^benq", "haier", "^lct", "operas*mobi", "opera*mini", "mobile", "blackberry", "IEMobile", "Windows Phone", "webos", "incognito", "webmate", "bada", "nokia", "lg", "ucweb", "skyfire", "ucbrowser"];
    var browser = navigator.userAgent.toLowerCase();
    var isMobile = false;
    for (var i = 0; i < mobileAgent.length; i++) {
        if (browser.indexOf(mobileAgent[i]) != -1) {
            isMobile = true;
            break;
        }
    }
    return isMobile;
};
var _isMobile = isMobile();
</script>
<script src="js/lib/p2.min.js"></script>
<script src="js/lib/pixi.js-3.0.11/pixi.js"></script>
<!-- <script src="js/lib/ace/ace.js"></script> -->
<!--<script src="js/lib/esl.nocache.js"></script>-->
<script src="js/lib/esl.full.js"></script>
<script src="js/lib/jsoneditor.min.js"></script>
<script>
define('json', ["app/const"], function (const_1) {
	var ready = false;
	return {
		load: function(resourceId, parentRequire, load) {
			var cache_content = localStorage.getItem(resourceId);
			if (cache_content) {
				load(const_1.transformJSON(cache_content));
			} else {
				var xhr = new XMLHttpRequest;
				xhr.open("GET", resourceId)
				console.log("JSON", arguments);
				xhr.send();
				xhr.onload = function() {
					localStorage.setItem(resourceId, xhr.responseText);
					load(const_1.transformJSON(xhr.responseText));
				}
			}
		}
	};
});
</script>
<link rel="stylesheet" href="css/editor.css">
<link rel="stylesheet" href="css/foundation.min.css">
<link rel='stylesheet' href='//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.3/css/font-awesome.css'>
</head>
<script src="./dist.js"></script>
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/select2/3.4.8/select2.min.js"></script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/select2/3.4.8/select2.css">
<body>
	<div id="mark">
		<div id="mark_wrap" class="wrap">
		</div>
	</div>
	<div id="body">
		<div class="uploader-wrap tabs">
			<div class="tab-selector">
				<h4 class="tab-selector-item active" data-tab="0">场景配置</h4>
				<h4 class="tab-selector-item" data-tab="1">飞船配置</h4>
				<h4 class="tab-selector-item" data-tab="2">枪支配置</h4>
				<h4 class="tab-selector-item" data-tab="3">物体配置</h4>
				<h4 class="tab-selector-item" data-tab="4">帮助</h4>
			</div>
			<div class="tab-item active" data-path="app/ediorStage.json">
				<div class="content-view">
					<div class="ace config-uploader">初始化中……</div>
					<div data-schema="js/editor_schema/ship.json" class="json-editor-view"></div>
				</div>
				<div class="button-list">
					<button class="button warning reset-button">重置</button>
					<button class="button json-editor" data-status1="可视化编辑" data-status2="编辑源文件"></button>
					<button class="button success upload-button">校验并上传</button>
				</div>
			</div>
			<div class="tab-item" data-path="app/class/shipShape.json">
				<div class="content-view">
					<div class="ace config-uploader">初始化中……</div>
					<div class="json-editor-view"></div>
				</div>
				<div class="button-list">
					<button class="button warning reset-button">重置</button>
					<button class="button json-editor" data-status1="可视化编辑" data-status2="编辑源文件"></button>
					<button class="button success upload-button">校验并上传</button>
				</div>
			</div>
			<div class="tab-item" data-path="app/class/gunShape.json">
				<div class="content-view">
					<div class="ace config-uploader">初始化中……</div>
					<div class="json-editor-view"></div>
				</div>
				<div class="button-list">
					<button class="button warning reset-button">重置</button>
					<button class="button json-editor" data-status1="可视化编辑" data-status2="编辑源文件"></button>
					<button class="button success upload-button">校验并上传</button>
				</div>
			</div>
			<div class="tab-item" data-path="app/class/flyerShape.json">
				<div class="content-view">
					<div class="ace config-uploader">初始化中……</div>
					<div class="json-editor-view"></div>
				</div>
				<div class="button-list">
					<button class="button warning reset-button">重置</button>
					<button class="button json-editor" data-status1="可视化编辑" data-status2="编辑源文件"></button>
					<button class="button success upload-button">校验并上传</button>
				</div>
			</div>
			<div class="tab-item">
				<div class="ace help"># 表达式帮助：

* `pt2px!`绘制大小时应该添加的前缀，后面跟一个简单的数字。

* `PI!`数学PI值，后面跟一个简单的数字，小数不可用分数表达式表示（ 除法表达式）

# 混合式帮助：

* `mix@`在guns中使用，可用在 `bullet_force` `bullet_damage` `bullet_penetrate` `overload_speed`等属性中，代表混合ship本身的**同名属性值**，后可跟`pt2px!`、`PI!`等表达式。

* `mix@(xxxx)`中的`xxxx`可指定要使用的ship属性名来进行混合。</div>
			</div>

		</div>
		<iframe id="frame_res" src="./editor-inner.html" frameborder="0"></iframe>
	</div>
	<script src="js/editor.js"></script>
</body>